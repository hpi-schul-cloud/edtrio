(function(){var t="undefined"!=typeof exports&&exports||this,e=[].slice,H=Array.from||function(t){return e.call(t)};function L(t,e){for(var i in e)t[i]=e[i];return t}function V(t,e){var i={}.hasOwnProperty;for(var n in e)i.call(e,n)&&(t[n]=e[n]);return t}t.LaTeXBase=function(){w.displayName="LaTeXBase";var p,t,e,i,n,o,r,h,s,u,a,l,g,c,f,y,m,d,v,x,b=w.prototype;function w(t,e){e&&(L(this,new e(t)),V(p,e.args)),this.g=t,this.g.newCounter("secnumdepth"),this.g.newCounter("tocdepth"),this.g.newCounter("footnote"),this.g.newCounter("mpfootnote"),this.g.newCounter("@listdepth"),this.g.newCounter("@itemdepth"),this.g.newCounter("@enumdepth"),this.g.newLength("unitlength"),this.g.setLength("unitlength",{value:1,unit:"pt"}),this.g.newLength("@wholewidth"),this.g.setLength("@wholewidth",{value:.4,unit:"pt"}),this.g.newLength("paperheight"),this.g.newLength("paperwidth"),this.g.newLength("oddsidemargin"),this.g.newLength("evensidemargin"),this.g.newLength("textheight"),this.g.newLength("textwidth"),this.g.newLength("marginparwidth"),this.g.newLength("marginparsep"),this.g.newLength("marginparpush"),this.g.newLength("columnwidth"),this.g.newLength("columnsep"),this.g.newLength("columnseprule"),this.g.newLength("linewidth"),this.g.newLength("leftmargin"),this.g.newLength("rightmargin"),this.g.newLength("listparindent"),this.g.newLength("itemindent"),this.g.newLength("labelwidth"),this.g.newLength("labelsep"),this.g.newLength("leftmargini"),this.g.newLength("leftmarginii"),this.g.newLength("leftmarginiii"),this.g.newLength("leftmarginiv"),this.g.newLength("leftmarginv"),this.g.newLength("leftmarginvi"),this.g.newLength("fboxrule"),this.g.newLength("fboxsep"),this.g.newLength("tabbingsep"),this.g.newLength("arraycolsep"),this.g.newLength("tabcolsep"),this.g.newLength("arrayrulewidth"),this.g.newLength("doublerulesep"),this.g.newLength("footnotesep"),this.g.newLength("topmargin"),this.g.newLength("headheight"),this.g.newLength("headsep"),this.g.newLength("footskip"),this.g.newLength("topsep"),this.g.newLength("partopsep"),this.g.newLength("itemsep"),this.g.newLength("parsep"),this.g.newLength("floatsep"),this.g.newLength("textfloatsep"),this.g.newLength("intextsep"),this.g.newLength("dblfloatsep"),this.g.newLength("dbltextfloatsep")}for(w.prototype._title=null,w.prototype._author=null,w.prototype._date=null,w.prototype._thanks=null,(p=w.args={}).gobbleO=["H","o?"],w.prototype.gobbleO=function(){return[]},p.echoO=["H","o?"],w.prototype.echoO=function(t){return["-",t,"-"]},p.echoOGO=["H","o?","g","o?"],w.prototype.echoOGO=function(t,e,i){var n;return n=[],t&&n.push("-",t,"-"),n.push("+",e,"+"),i&&n.push("-",i,"-"),n},p.echoGOG=["H","g","o?","g"],w.prototype.echoGOG=function(t,e,i){var n;return n=["+",t,"+"],e&&n.push("-",e,"-"),n.push("+",i,"+"),n},p.empty=["HV"],w.prototype.empty=function(){},w.prototype.TeX=function(){var t,e;return(t=this.g.create(this.g.inlineBlock)).setAttribute("class","tex"),t.appendChild(this.g.createText("T")),e=this.g.create(this.g.inlineBlock,this.g.createText("e"),"e"),t.appendChild(e),t.appendChild(this.g.createText("X")),[t]},w.prototype.LaTeX=function(){var t,e,i;return(t=this.g.create(this.g.inlineBlock)).setAttribute("class","latex"),t.appendChild(this.g.createText("L")),e=this.g.create(this.g.inlineBlock,this.g.createText("a"),"a"),t.appendChild(e),t.appendChild(this.g.createText("T")),i=this.g.create(this.g.inlineBlock,this.g.createText("e"),"e"),t.appendChild(i),t.appendChild(this.g.createText("X")),[t]},w.prototype.today=function(){return[(new Date).toLocaleDateString("en",{weekday:"long",year:"numeric",month:"long",day:"numeric"})]},w.prototype.newline=function(){return[this.g.create(this.g.linebreak)]},w.prototype.negthinspace=function(){return[this.g.create(this.g.inlineBlock,void 0,"negthinspace")]},p.par=["V"],p.item=["V"],p.onecolumn=["V"],w.prototype.onecolumn=function(){},p.twocolumn=["V","o?"],w.prototype.twocolumn=function(){},(t=p).smallbreak=t.medbreak=t.bigbreak=["V"],w.prototype.smallbreak=function(){return[this.g.createVSpaceSkip("smallskip")]},w.prototype.medbreak=function(){return[this.g.createVSpaceSkip("medskip")]},w.prototype.bigbreak=function(){return[this.g.createVSpaceSkip("bigskip")]},p.addvspace=["V","l"],w.prototype.addvspace=function(t){return this.g.createVSpace(t)},p.marginpar=["H","g"],w.prototype.marginpar=function(t){return[this.g.marginpar(t)]},w.prototype.abstractname=function(){return["Abstract"]},p.title=["HV","g"],p.author=["HV","g"],p.and=["H"],p.date=["HV","g"],p.thanks=["HV","g"],w.prototype.title=function(t){this._title=t},w.prototype.author=function(t){this._author=t},w.prototype.date=function(t){this._date=t},w.prototype.and=function(){return this.g.macro("quad")},w.prototype.thanks=w.footnote,e=0,o=(n=["rm","sf","tt","md","bf","up","it","sl","sc","normal"]).length;e<o;++e)i=n[e],p["text"+i]=["H","X","g"];for(w.prototype.textrm=function(t){return 0===arguments.length?(this.g.enterGroup(),this.g.setFontFamily("rm")):(this.g.exitGroup(),[t])},w.prototype.textsf=function(t){return 0===arguments.length?(this.g.enterGroup(),this.g.setFontFamily("sf")):(this.g.exitGroup(),[t])},w.prototype.texttt=function(t){return 0===arguments.length?(this.g.enterGroup(),this.g.setFontFamily("tt")):(this.g.exitGroup(),[t])},w.prototype.textmd=function(t){return 0===arguments.length?(this.g.enterGroup(),this.g.setFontWeight("md")):(this.g.exitGroup(),[t])},w.prototype.textbf=function(t){return 0===arguments.length?(this.g.enterGroup(),this.g.setFontWeight("bf")):(this.g.exitGroup(),[t])},w.prototype.textup=function(t){return 0===arguments.length?(this.g.enterGroup(),this.g.setFontShape("up")):(this.g.exitGroup(),[t])},w.prototype.textit=function(t){return 0===arguments.length?(this.g.enterGroup(),this.g.setFontShape("it")):(this.g.exitGroup(),[t])},w.prototype.textsl=function(t){return 0===arguments.length?(this.g.enterGroup(),this.g.setFontShape("sl")):(this.g.exitGroup(),[t])},w.prototype.textsc=function(t){return 0===arguments.length?(this.g.enterGroup(),this.g.setFontShape("sc")):(this.g.exitGroup(),[t])},w.prototype.textnormal=function(t){return 0===arguments.length?(this.g.enterGroup(),this.g.setFontFamily("rm"),this.g.setFontWeight("md"),this.g.setFontShape("up")):(this.g.exitGroup(),[t])},p.emph=["H","X","g"],w.prototype.emph=function(t){return 0===arguments.length?(this.g.enterGroup(),this.g.setFontShape("em")):(this.g.exitGroup(),[t])},e=0,o=(n=["rm","sf","tt"]).length;e<o;++e)r=n[e],p[r+"family"]=["HV"];for(e=0,o=(n=["md","bf"]).length;e<o;++e)h=n[e],p[h+"series"]=["HV"];for(e=0,o=(n=["up","it","sl","sc"]).length;e<o;++e)s=n[e],p[s+"shape"]=["HV"];for(e=0,o=(n=["normalfont","em"]).length;e<o;++e)u=n[e],p[u]=["HV"];for(e=0,o=(n=["tiny","scriptsize","footnotesize","small","normalsize","large","Large","LARGE","huge","Huge"]).length;e<o;++e)a=n[e],p[a]=["HV"];for(w.prototype.rmfamily=function(){this.g.setFontFamily("rm")},w.prototype.sffamily=function(){this.g.setFontFamily("sf")},w.prototype.ttfamily=function(){this.g.setFontFamily("tt")},w.prototype.mdseries=function(){this.g.setFontWeight("md")},w.prototype.bfseries=function(){this.g.setFontWeight("bf")},w.prototype.upshape=function(){this.g.setFontShape("up")},w.prototype.itshape=function(){this.g.setFontShape("it")},w.prototype.slshape=function(){this.g.setFontShape("sl")},w.prototype.scshape=function(){this.g.setFontShape("sc")},w.prototype.normalfont=function(){this.g.setFontFamily("rm"),this.g.setFontWeight("md"),this.g.setFontShape("up")},e=0,o=(n=["tiny","scriptsize","footnotesize","small","normalsize","large","Large","LARGE","huge","Huge"]).length;e<o;++e)b[l=n[e]]=k(l);return w.prototype.em=function(){this.g.setFontShape("em")},w.prototype.theenumi=function(){return[this.g.arabic(this.g.counter("enumi"))]},w.prototype.theenumii=function(){return[this.g.alph(this.g.counter("enumii"))]},w.prototype.theenumiii=function(){return[this.g.roman(this.g.counter("enumiii"))]},w.prototype.theenumiv=function(){return[this.g.Alph(this.g.counter("enumiv"))]},w.prototype.labelenumi=function(){return this.theenumi().concat(".")},w.prototype.labelenumii=function(){return["("].concat(H(this.theenumii()),[")"])},w.prototype.labelenumiii=function(){return this.theenumiii().concat(".")},w.prototype.labelenumiv=function(){return this.theenumiv().concat(".")},w.prototype["p@enumii"]=function(){return this.theenumi()},w.prototype["p@enumiii"]=function(){return this.theenumi().concat("(",this.theenumii(),")")},w.prototype["p@enumiv"]=function(){return this["p@enumiii"]().concat(this.theenumiii())},w.prototype.labelitemi=function(){return[this.g.symbol("textbullet")]},w.prototype.labelitemii=function(){return this.normalfont(),this.bfseries(),[this.g.symbol("textendash")]},w.prototype.labelitemiii=function(){return[this.g.symbol("textasteriskcentered")]},w.prototype.labelitemiv=function(){return[this.g.symbol("textperiodcentered")]},(g=p).centering=g.raggedright=g.raggedleft=["HV"],w.prototype.centering=function(){this.g.setAlignment("centering")},w.prototype.raggedright=function(){this.g.setAlignment("raggedright")},w.prototype.raggedleft=function(){this.g.setAlignment("raggedleft")},(c=p).center=c.flushleft=c.flushright=["V"],w.prototype.center=function(){return this.g.startlist(),[this.g.create(this.g.list,null,"center")]},w.prototype.endcenter=function(){this.g.endlist()},w.prototype.flushleft=function(){return this.g.startlist(),[this.g.create(this.g.list,null,"flushleft")]},w.prototype.endflushleft=function(){this.g.endlist()},w.prototype.flushright=function(){return this.g.startlist(),[this.g.create(this.g.list,null,"flushright")]},w.prototype.endflushright=function(){this.g.endlist()},p.titlepage=["V"],w.prototype.titlepage=function(){return[this.g.create(this.g.titlepage)]},(f=p).quote=f.quotation=f.verse=["V"],w.prototype.quote=function(){return this.g.startlist(),[this.g.create(this.g.quote)]},w.prototype.endquote=function(){this.g.endlist()},w.prototype.quotation=function(){return this.g.startlist(),[this.g.create(this.g.quotation)]},w.prototype.endquotation=function(){this.g.endlist()},w.prototype.verse=function(){return this.g.startlist(),[this.g.create(this.g.verse)]},w.prototype.endverse=function(){this.g.endlist()},p.itemize=["V","X","items"],w.prototype.itemize=function(t){var i,n=this;return 0===arguments.length?(this.g.startlist(),this.g.stepCounter("@itemdepth"),void(4<this.g.counter("@itemdepth")&&this.g.error("too deeply nested"))):(i="labelitem"+this.g.roman(this.g.counter("@itemdepth")),[this.g.create(this.g.unorderedList,t.map(function(t){var e;return e=n.g.create(n.g.itemlabel,n.llap(null!==t.label?t.label:n.g.macro(i))),n.g.create(n.g.listitem,[e,t.text])}))])},w.prototype.enditemize=function(){this.g.endlist(),this.g.setCounter("@itemdepth",this.g.counter("@itemdepth")-1)},p.enumerate=["V","X","enumitems"],w.prototype.enumerate=function(t){var e,n=this;return 0===arguments.length?(this.g.startlist(),this.g.stepCounter("@enumdepth"),void(4<this.g.counter("@enumdepth")&&this.g.error("too deeply nested"))):(e="enum"+this.g.roman(this.g.counter("@enumdepth")),this.g.setCounter(e,0),[this.g.create(this.g.orderedList,t.map(function(t){var e,i;return e=n.g.create(n.g.inlineBlock,t.label.node),t.label.id&&(e.id=t.label.id),i=n.g.create(n.g.itemlabel,n.llap(e)),n.g.create(n.g.listitem,[i,t.text])}))])},w.prototype.endenumerate=function(){this.g.endlist(),this.g.setCounter("@enumdepth",this.g.counter("@enumdepth")-1)},p.description=["V","X","items"],w.prototype.description=function(t){var n=this;if(0!==arguments.length)return[this.g.create(this.g.descriptionList,t.map(function(t){var e,i;return e=n.g.create(n.g.term,t.label),i=n.g.create(n.g.description,t.text),n.g.createFragment([e,i])}))];this.g.startlist()},w.prototype.enddescription=function(){this.g.endlist()},p.multicols=["V","n","o?","o?"],w.prototype.multicols=function(t,e){return[e,this.g.create(this.g.multicols(t))]},p.picture=["H","v","v?","h"],w.prototype.picture=function(t,e,i){return[this.g.createPicture(t,e,i)]},p.hspace=["H","s","l"],w.prototype.hspace=function(t,e){return[this.g.createHSpace(e)]},p.label=["HV","k"],w.prototype.label=function(t){this.g.setLabel(t)},p.ref=["H","k"],w.prototype.ref=function(t){return[this.g.ref(t)]},p.href=["H","o?","u","g"],w.prototype.href=function(t,e,i){return[this.g.create(this.g.link(e),i)]},p.url=["H","u"],w.prototype.url=function(t){return[this.g.create(this.g.link(t),this.g.createText(t))]},p.nolinkurl=["H","u"],w.prototype.nolinkurl=function(t){return[this.g.create(this.g.link(),this.g.createText(t))]},(y=p).llap=y.rlap=y.clap=y.smash=y.hphantom=y.vphantom=y.phantom=["H","hg"],w.prototype.llap=function(t){return[this.g.create(this.g.inlineBlock,t,"hbox llap")]},w.prototype.rlap=function(t){return[this.g.create(this.g.inlineBlock,t,"hbox rlap")]},w.prototype.clap=function(t){return[this.g.create(this.g.inlineBlock,t,"hbox clap")]},w.prototype.smash=function(t){return[this.g.create(this.g.inlineBlock,t,"hbox smash")]},w.prototype.hphantom=function(t){return[this.g.create(this.g.inlineBlock,t,"phantom hbox smash")]},w.prototype.vphantom=function(t){return[this.g.create(this.g.inlineBlock,t,"phantom hbox rlap")]},w.prototype.phantom=function(t){return[this.g.create(this.g.inlineBlock,t,"phantom hbox")]},p.underline=["H","hg"],w.prototype.underline=function(t){return[this.g.create(this.g.inlineBlock,t,"hbox underline")]},p.mbox=["H","hg"],w.prototype.mbox=function(t){return this.makebox(void 0,void 0,void 0,t)},p.makebox=["H","v?","l?","i?","hg"],w.prototype.makebox=function(t,e,i,n){return t?(e&&i&&this.g.error("expected \\makebox(width,height)[position]{text} but got two optional arguments!"),i=e,[n]):this._box(e,i,n,"hbox")},p.fbox=["H","hg"],p.framebox=["H","v?","l?","i?","hg"],w.prototype.fbox=function(t){return this.framebox(void 0,void 0,void 0,t)},w.prototype.framebox=function(t,e,i,n){return t?e&&i?this.g.error("expected \\framebox(width,height)[position]{text} but got two optional arguments!"):void 0:null==n.hasAttribute||e||i||this.g.hasAttribute(n,"frame")?this._box(e,i,n,"hbox frame"):(this.g.addAttribute(n,"frame"),[n])},w.prototype._box=function(t,e,i,n){var o,r;if(t)switch(e||(e="c"),e){case"s":n+=" stretch";break;case"c":n+=" clap";break;case"l":n+=" rlap";break;case"r":n+=" llap";break;default:this.g.error("unknown position: "+e)}return o=this.g.create(this.g.inlineBlock,i),r=this.g.create(this.g.inlineBlock,o,n),t&&r.setAttribute("style","width:"+t.value+t.unit),[r]},p.parbox=["H","i?","l?","i?","l","g"],w.prototype.parbox=function(t,e,i,n,o){var r,h,s,u;switch(t||(t="c"),i||(i=t),r="parbox",h="width:"+(n.value+n.unit)+";",e&&(r+=" pbh",h+="height:"+(e.value+e.unit)+";"),t){case"c":r+=" p-c";break;case"t":r+=" p-t";break;case"b":r+=" p-b";break;default:this.g.error("unknown position: "+t)}switch(i){case"s":r+=" stretch";break;case"c":r+=" p-cc";break;case"t":r+=" p-ct";break;case"b":r+=" p-cb";break;default:this.g.error("unknown inner-pos: "+i)}return s=this.g.create(this.g.inlineBlock,o),(u=this.g.create(this.g.inlineBlock,s,r)).setAttribute("style",h),[u]},p.graphicspath=["HV","gl"],w.prototype.graphicspath=function(t){},p.includegraphics=["H","s","kv","k"],p.definecolor=["HV","i?","c"],p.color=["HV","i?","c"],p.textcolor=["H","i?","c","g"],p.colorbox=["H","i?","c","g"],p.fcolorbox=["H","i?","c","c","g"],p.rotatebox=["H","kv","f","g"],(m=p).thicklines=["HV"],m.thinlines=["HV"],m.linethickness=["HV","l"],m.arrowlength=["HV","l"],w.prototype.thinlines=function(){this.g.setLength("@wholewidth",{value:.4,unit:"pt"})},w.prototype.thicklines=function(){this.g.setLength("@wholewidth",{value:.8,unit:"pt"})},w.prototype.linethickness=function(t){"px"!==t.unit&&this.g.error("relative units for \\linethickness not supported!"),this.g.setLength("@wholewidth",t)},w.prototype.arrowlength=function(t){this.g.setLength("@arrowlength",t)},w.prototype.maxovalrad=function(){return"20pt"},p.dashbox=["H","cl","v","i?","g"],p.frame=["H","hg"],w.prototype.frame=function(t){var e,i;return e=this.g.create(this.g.inlineBlock,t,"hbox pframe"),i=this.g.length("@wholewidth"),e.setAttribute("style","border-width:"+i.value+i.unit),[e]},p.put=["H","v","g","is"],w.prototype.put=function(t,e){var i,n,o,r;return i=t.x.value,n=t.y.value,(o=this.g.create(this.g.inlineBlock,e,"put-obj")).setAttribute("style","left:"+(i+t.x.unit)),(r=this.g.create(this.g.inlineBlock,void 0,"strut")).setAttribute("style","height:"+(Math.abs(n)+t.y.unit)),this.rlap(this.g.create(this.g.inlineBlock,[o,r],"picture"))},p.multiput=["H","v","v","n","g"],w.prototype.multiput=function(t,e,i,n){var o,r,h;for(o=[],r=0;r<i;++r)h=r,o=o.concat(this.put({x:{value:t.x.value+h*e.x.value,unit:t.x.unit},y:{value:t.y.value+h*e.y.value,unit:t.y.unit}},n.cloneNode(!0)));return o},p.qbezier=["H","n?","v","v","v"],w.prototype.qbezier=function(t,e,i,n){return[this._path("M"+e.x.value+","+e.y.value+" Q"+i.x.value+","+i.y.value+" "+n.x.value+","+n.y.value,e.x.unit)]},p.cbezier=["H","n?","v","v","v","v"],w.prototype.cbezier=function(t,e,i,n,o){return[this._path("M"+e.x.value+","+e.y.value+" C"+i.x.value+","+i.y.value+" "+n.x.value+","+n.y.value+" "+o.x.value+","+o.y.value,e.x.unit)]},w.prototype._path=function(t,e){var i,n,o,r;return i=this.g.length("@wholewidth"),n=this.g.create(this.g.inlineBlock,void 0,"picture-object"),(r=(o=this.g.SVG(n)).path(t).stroke({width:i.value+i.unit}).fill("none").bbox()).x-=i.value,r.y-=i.value,r.width+=2*i.value,r.height+=2*i.value,n.setAttribute("style","left:"+Math.min(0,r.x)+e+";bottom:"+Math.min(0,r.y)+e),o.size(r.width+""+e,r.height+""+e).viewbox(r.x,r.y,r.width,r.height),o.flip("y",0),this.g.create(this.g.inlineBlock,n,"picture")},p.circle=["H","s","cl"],w.prototype.circle=function(t,e){var i,n,o,r;return n=(i=this.g.length("@wholewidth")).value,(o=this.g.create(this.g.inlineBlock,void 0,"picture-object")).setAttribute("style","left:"+(-e.value/2-n)+"px;bottom:"+(-e.value/2-n)+"px"),(r=this.g.SVG(o).size(e.value+2*n+e.unit,e.value+2*n+e.unit)).circle(e.value+e.unit).cx(e.value/2+n+e.unit).cy(e.value/2+n+e.unit).stroke({width:i.value+i.unit}).fill(t?"":"none"),r.flip("y",0),[this.g.create(this.g.inlineBlock,o,"picture")]},p.line=["H","v","cl"],w.prototype.line=function(t,e){var i,n,o;return n=(i=this._slopeLengthToCoords(t,e))[0],o=i[1],[this._line(n,o,e.unit)]},p.vector=["H","v","cl"],w.prototype.vector=function(t,e){var i,n,o;return n=(i=this._slopeLengthToCoords(t,e))[0],o=i[1],[this._vector(n,o,e.unit)]},p.Line=["H","v"],w.prototype.Line=function(t){var e,i;return this.g.length("@wholewidth"),e=t.x.value,i=t.y.value,[this._line(e,i,t.x.unit)]},p.Vector=["H","v"],w.prototype.Vector=function(t){var e,i;return this.g.length("@wholewidth"),e=t.x.value,i=t.y.value,[this._vector(e,i,t.x.unit)]},w.prototype._slopeLengthToCoords=function(t,e){var i,n,o;return t.x.value===(i=t.y.value)&&0===i&&this.g.error("illegal slope (0,0)"),t.x.unit===t.y.unit&&"px"===t.x.unit||this.g.error("relative units not allowed for slope"),this.g.length("@wholewidth"),0===t.x.value?(n=0,o=e.value):o=(n=e.value)*Math.abs(t.y.value/t.x.value),t.x.value<0&&(n*=-1),t.y.value<0&&(o*=-1),[n,o]},w.prototype._line=function(t,e,i){var n,o,r,h;return n=this.g.create(this.g.inlineBlock,void 0,"picture-object"),o=this.g.SVG(n),r=this.g.length("@wholewidth"),(h=o.line(0,0,t,e).stroke({width:r.value+r.unit}).bbox()).x-=r.value,h.y-=r.value,h.width+=2*r.value,h.height+=2*r.value,n.setAttribute("style","left:"+Math.min(0,h.x)+i+";bottom:"+Math.min(0,h.y)+i),o.size(h.width+""+i,h.height+""+i).viewbox(h.x,h.y,h.width,h.height),o.flip("y",0),this.g.create(this.g.inlineBlock,n,"picture")},w.prototype._vector=function(t,e,i){var n,o,r,h,s,u,a,p,l,g,c,f;return n=this.g.length("@wholewidth"),o=this.g.create(this.g.inlineBlock,void 0,"picture-object"),r=this.g.SVG(o),5,3,s=h=0,u=2.5*n.value,a=Math.sqrt(t*t+e*e),p=Math.sqrt(1+e*e/(t*t)),l=Math.sqrt(1+t*t/(e*e)),g=t<0?-1:1,c=e<0?-1:1,a<u&&(0!==t&&0!==e?(h=u/p*-g,s=u/l*-c):0===e?h=u*-g:s=u*-c),0!==t&&0!==e?(t-=u/p*g,e-=u/l*c):0===e?t-=u*g:e-=u*c,(f=r.line(h,s,t,e).stroke({width:n.value+n.unit}).marker("end",5,3,function(t){return t.polyline([[0,0],[5,1.5],[0,3]])}).bbox()).x-=n.value+u,f.y-=n.value+u,f.width+=n.value+2*u,f.height+=n.value+2*u,o.setAttribute("style","left:"+Math.min(0,f.x)+i+";bottom:"+Math.min(0,f.y)+i),r.size(f.width+""+i,f.height+""+i).viewbox(f.x,f.y,f.width,f.height),r.flip("y",0),this.g.create(this.g.inlineBlock,o,"picture")},p.oval=["H","cl?","v","i?"],w.prototype.oval=function(t,e,i){var n,o,r,h,s,u,a;return n=this.g.length("@wholewidth"),t||(t={value:20,unit:"px"}),i||(i=""),o=this.g.create(this.g.inlineBlock,void 0,"picture-object"),s=(h=(r=this.g.SVG(o)).rect(e.x.value+""+e.x.unit,e.y.value+""+e.y.unit).radius(t.value+t.unit).move("-"+e.x.value/2+e.x.unit,"-"+e.y.value/2+e.y.unit).stroke({width:n.value+n.unit}).fill("none")).bbox(),u={x:-e.x.value/2-n.value,y:-e.y.value/2-n.value,w:e.x.value+2*n.value,h:e.y.value+2*n.value},i.includes("l")&&(u=this._intersect(u,{x:-e.x.value/2-n.value,y:-e.y.value/2-n.value,w:e.x.value/2+n.value,h:e.y.value+2*n.value})),i.includes("t")&&(u=this._intersect(u,{x:-e.x.value/2-n.value,y:-e.y.value/2-n.value,w:e.x.value+2*n.value,h:e.y.value/2+n.value})),i.includes("r")&&(u=this._intersect(u,{x:0,y:-e.y.value/2-n.value,w:e.x.value/2+n.value,h:e.y.value+2*n.value})),i.includes("b")&&(u=this._intersect(u,{x:-e.x.value/2-n.value,y:0,w:e.x.value+2*n.value,h:e.y.value/2+n.value})),(a=r.clip().add(r.rect(u.w+""+e.x.unit,u.h+""+e.y.unit).move(u.x,u.y))).flip("y",0),h.clipWith(a),s.x-=n.value,s.y-=n.value,s.width+=2*n.value,s.height+=2*n.value,o.setAttribute("style","left:"+Math.min(0,s.x)+e.x.unit+";bottom:"+Math.min(0,s.y)+e.y.unit),r.size(s.width+""+e.x.unit,s.height+""+e.y.unit).viewbox(s.x,s.y,s.width,s.height),r.flip("y",0),[this.g.create(this.g.inlineBlock,o,"picture")]},w.prototype._intersect=function(t,e){return{x:Math.max(t.x,e.x),y:Math.max(t.y,e.y),w:Math.max(0,Math.min(t.x+t.w,e.x+e.w)-Math.max(t.x,e.x)),h:Math.max(0,Math.min(t.y+t.h,e.y+e.h)-Math.max(t.y,e.y))}},p.newlength=["HV","m"],w.prototype.newlength=function(t){this.g.newLength(t)},p.setlength=["HV","m","l"],w.prototype.setlength=function(t,e){this.g.setLength(t,e)},p.addtolength=["HV","m","l"],w.prototype.addtolength=function(t,e){this.g.setLength(t,this.g.length(t)+e)},p.newcounter=["HV","i","i?"],w.prototype.newcounter=function(t,e){this.g.newCounter(t,e)},p.stepcounter=["HV","i"],w.prototype.stepcounter=function(t){this.g.stepCounter(t)},p.addtocounter=["HV","i","n"],w.prototype.addtocounter=function(t,e){this.g.setCounter(t,this.g.counter(t)+e)},p.setcounter=["HV","i","n"],w.prototype.setcounter=function(t,e){this.g.setCounter(t,e)},p.refstepcounter=["H","i"],w.prototype.refstepcounter=function(t){return this.g.stepCounter(t),[this.g.refCounter(t)]},(d=p).alph=d.Alph=d.arabic=d.roman=d.Roman=d.fnsymbol=["H","i"],w.prototype.alph=function(t){return[this.g.alph(this.g.counter(t))]},w.prototype.Alph=function(t){return[this.g.Alph(this.g.counter(t))]},w.prototype.arabic=function(t){return[this.g.arabic(this.g.counter(t))]},w.prototype.roman=function(t){return[this.g.roman(this.g.counter(t))]},w.prototype.Roman=function(t){return[this.g.Roman(this.g.counter(t))]},w.prototype.fnsymbol=function(t){return[this.g.fnsymbol(this.g.counter(t))]},p.input=["V","g"],w.prototype.input=function(t){},p.include=["V","g"],w.prototype.include=function(t){},p.documentclass=["P","k?","k","k?"],w.prototype.documentclass=function(t,e,i){var n,o,r,h,s,u,a;if(this.documentclass=function(){this.g.error("Two \\documentclass commands. The document may only declare one class.")},n=e.charAt(0).toUpperCase()+e.slice(1),L(this,new(o=require("./documentclasses/"+e)[n])(this.g)),V(p,o.args),this.g.documentClass=o,t)for(r=0,s=(h=t.split(",")).length;r<s;++r)u=(u=h[r]).trim(),NaN!==(a=parseFloat(u))&&u.endsWith("pt")&&(String(a).length,String(a)===u.substring(0,u.length-2)&&console.log(u))},p.usepackage=["P","k?","k","k?"],w.prototype.usepackage=function(t,e,i){},p.includeonly=["P","k"],w.prototype.includeonly=function(t){},p.makeatletter=["P"],w.prototype.makeatletter=function(){},p.makeatother=["P"],w.prototype.makeatother=function(){},p.pagestyle=["HV","i"],w.prototype.pagestyle=function(t){},(v=p).linebreak=["HV","n?"],v.nolinebreak=["HV","n?"],v.fussy=["HV"],v.sloppy=["HV"],w.prototype.linebreak=function(t){},w.prototype.nolinebreak=function(t){},w.prototype.fussy=function(){},w.prototype.sloppy=function(){},(x=p).pagebreak=["HV","n?"],x.nopagebreak=["HV","n?"],x.samepage=["HV"],x.enlargethispage=["HV","s","l"],x.newpage=["HV"],x.clearpage=["HV"],x.cleardoublepage=["HV"],x.vfill=["HV"],x.thispagestyle=["HV","i"],w.prototype.pagebreak=function(t){},w.prototype.nopagebreak=function(t){},w.prototype.samepage=function(){},w.prototype.enlargethispage=function(t,e){},w.prototype.newpage=function(){},w.prototype.clearpage=function(){},w.prototype.cleardoublepage=function(){},w.prototype.vfill=function(){},w.prototype.thispagestyle=function(t){},w;function k(t){return function(){return this.g.setFontSize(t)}}}()}).call(this);